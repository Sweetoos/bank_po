@startuml
!theme plain
skinparam classAttributeIconSize 0
skinparam packageStyle rect

package "Model (Backend)" <<Database>> {

    interface Transactable {
        + deposit(amount: double): void
        + withdraw(amount: double): boolean
        + transfer(amount: double, target: int, bank: Bank): boolean
    }

    abstract class Account implements Transactable {
        + final accountNumber: int
        + final accountType: String
        # balance: double
        # transactionHistory: List<Transaction>
        # mv: MainVariables
    }

    class CheckingAccount extends Account {
        + deposit(amount: double): void
        + withdraw(amount: double): boolean
        + transfer(amount: double, target: int, bank: Bank): boolean
    }

    class SavingsAccount extends Account {
        - annualInterestRate: double
        + calculateDailyInterest(): void
        + capitalizeInterest(): void
    }

    class Bank {
        - clients: Map<Integer, Client>
        - accountList: Map<Integer, Integer>
        - currentDate: LocalDate
        + addClient(cd: ClientData): void
        + removeClient(clientId: int): void
        + authenticateClient(user: String, pass: String): Client
        + advanceTimeByDays(days: int): void
        + saveState(filename: String): void
        + {static} loadState(filename: String): Bank
    }

    class Client {
        + final clientId: int
        + clientName: String
        + clientAddress: String
        + username: String
        - password: String
        - accounts: List<Account>
        + addAccount(type: String, rate: double): Account
        + checkPassword(pass: String): boolean
        + setMainAccountByNumber(accNum: int): boolean
        + getTotalBalance(): double
    }

    class Transaction {
        + final transactionId: int
        + final amount: double
        + final transactionType: String
    }

    class MainVariables {
        + newAccountNumber(): int
        + newClientId(): int
        + newTransactionId(): int
    }

    class ClientData {}
}


package "GUI (Frontend)" <<Frame>> {

    class Main {
        + {static} main(args: String[]): void
    }

    class LoginPage {
        - bank: Bank
        + LoginPage(bank: Bank)
    }

    class MainMenu {
        - bank: Bank
        - loggedInClient: Client
        - isAdminView: boolean
        + MainMenu(bank: Bank, client: Client)
        + refreshAllViews(): void
    }

    class ManageAccountsPanel {
        - bank: Bank
        - mainMenu: MainMenu
        + refreshTable(): void
        - addClient(): void
        - removeClient(): void
    }

    class ClientAccountsPanel {
        - mainMenu: MainMenu
        - loggedInClient: Client
        + refreshTable(): void
        - setAsMainAccount(): void
    }

    class TransactionPanel {
        - mainMenu: MainMenu
        - bank: Bank
        - currentClient: Client
        - executeTransaction(): void
    }
}



Main ..> Bank : creates/loads
Main ..> LoginPage : creates

LoginPage ..> MainMenu : creates
MainMenu *-- ManageAccountsPanel
MainMenu *-- ClientAccountsPanel
MainMenu *-- TransactionPanel

Bank "1" o-- "*" Client : manages
Client "1" o-- "1..*" Account : owns
Account "1" o-- "*" Transaction : has

Bank *-- MainVariables

LoginPage ..> Bank : uses authenticate
ManageAccountsPanel ..> Bank : uses add/remove
ManageAccountsPanel ..> ClientData : creates
TransactionPanel ..> Bank : uses for transfers
TransactionPanel ..> Account : uses deposit/withdraw/transfer
ClientAccountsPanel ..> Account : uses deposit/withdraw/transfer
ClientAccountsPanel ..> Client : uses setMainAccount

@enduml